{"version":3,"sources":["webpack:///webpack/bootstrap fe75bfafab8e96070c2a","webpack:///./src/index.js","webpack:///./src/dactylographsy.js","webpack:///./src/cache.js","webpack:///./src/log.js","webpack:///./src/injector.js","webpack:///./src/dom.js","webpack:///./src/ajax.js"],"names":[],"mappings":"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","file":"dactylographsy.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fe75bfafab8e96070c2a\n **/","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _dactylographsy = require('./dactylographsy');\n\nvar _dactylographsy2 = _interopRequireDefault(_dactylographsy);\n\nif (typeof window !== 'undefined') {\n  window.dactylographsy = new _dactylographsy2['default']({\n    autorun: true\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _cache = require('./cache');\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _injector = require('./injector');\n\nvar _injector2 = _interopRequireDefault(_injector);\n\nvar _log = require('./log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar Dactylographsy = (function () {\n  function Dactylographsy() {\n    var options = arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Dactylographsy);\n\n    var _options$autorun = options.autorun;\n\n    var autorun = _options$autorun === undefined ? false : _options$autorun;\n    var _options$enableLogging = options.enableLogging;\n    var enableLogging = _options$enableLogging === undefined ? false : _options$enableLogging;\n\n    this.log = new _log2['default'](enableLogging);\n    this.hookIntoDom();\n    this.readConfiguration();\n    this.cache = new _cache2['default']({\n      appPrefix: this.config.appPrefix\n    });\n\n    if (autorun) {\n      this.run();\n    }\n  }\n\n  _createClass(Dactylographsy, [{\n    key: 'hookIntoDom',\n    value: function hookIntoDom() {\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      this.executingScript = document.getElementById('dactylographsy');\n      this.injectInto = document.body || document.head || document.getElementsByTagName('script')[0];\n    }\n  }, {\n    key: 'readConfiguration',\n    value: function readConfiguration() {\n      this.manifestUrls = this.readAttrOnScript('manifests');\n      this.config = this.readAttrOnScript('config');\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      var _this = this;\n\n      var inject = arguments[0] === undefined ? true : arguments[0];\n\n      return Promise.all(this.manifestUrls.map(function (url) {\n        return new _injector.Manifest(url, _this.config).get();\n      })).then(function (manifests) {\n        _this.log.info('Fetched all manifests, ' + manifests.length + ' in total.');\n\n        _this.cache.set(manifests, 'manifests', 'manifests');\n\n        return new _injector2['default'](inject ? _this.injectInto : undefined, manifests, _this.config).inject();\n      });\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      var _this2 = this;\n\n      return this.cache.get('manifests').then(function (manifests) {\n        _this2.log.info('Resotring with manifests in cache later refreshing via network (delayed).');\n\n        new _injector2['default'](_this2.injectInto, manifests, _this2.config).inject();\n\n        return false;\n      });\n    }\n  }, {\n    key: 'readAttrOnScript',\n    value: function readAttrOnScript(attr) {\n      if (!this.executingScript) {\n        return false;\n      }\n\n      var _attr = this.executingScript.getAttribute('data-' + attr);\n\n      return _attr ? JSON.parse(_attr) : undefined;\n    }\n  }, {\n    key: 'run',\n    value: function run() {\n      var _this3 = this;\n\n      if (this.config.ttl) {\n        this.cache.get('clt', 0).then(function (clt) {\n          if (clt >= _this3.config.ttl) {\n            _this3.log.info('Flushing cache due to exeeding TTL of ' + _this3.config.ttl + '.');\n\n            _this3.cache.flush();\n          } else {\n            _this3.cache.set(++clt, 'plain', 'clt');\n          }\n        });\n      }\n\n      return this.config.cacheManifests === false ? this.refresh() : this.restore().then(function (injectedFromCache) {\n        var _config$refreshDelay = _this3.config.refreshDelay;\n        var refreshDelay = _config$refreshDelay === undefined ? 5000 : _config$refreshDelay;\n\n        return new Promise(function (resolve, reject) {\n          window.setTimeout(function () {\n            _this3.refresh(injectedFromCache).then(resolve, reject);\n          }, refreshDelay);\n        });\n      })['catch'](function () {\n        _this3.log.info('No manifests in cache, refreshing via network.');\n\n        return _this3.refresh();\n      });\n    }\n  }]);\n\n  return Dactylographsy;\n})();\n\nexports['default'] = Dactylographsy;\nmodule.exports = exports['default'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/dactylographsy.js\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _log = require('./log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar Cache = (function () {\n  function Cache() {\n    var options = arguments[0] === undefined ? {} : arguments[0];\n\n    _classCallCheck(this, Cache);\n\n    var defaultPrefix = '__dactylographsy';\n    var _options$enableLogging = options.enableLogging;\n    var enableLogging = _options$enableLogging === undefined ? false : _options$enableLogging;\n\n    this.log = new _log2['default'](enableLogging);\n    this.options = options;\n    this.cachePrefix = this.options.cachePrefix || defaultPrefix;\n    this.isSupported = this.supported();\n\n    if (this.options.appPrefix) {\n      this.cachePrefix = '' + this.cachePrefix + '--' + this.options.appPrefix + '__';\n    } else {\n      this.cachePrefix += '__';\n    }\n  }\n\n  _createClass(Cache, [{\n    key: 'get',\n    value: function get(key, defaultValue) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (!_this.isSupported) {\n          reject();\n        }\n\n        var _item = JSON.parse(localStorage.getItem('' + _this.cachePrefix + '-' + key));\n\n        if (_item === null && defaultValue !== undefined) {\n          _this.set(defaultValue, 'plain', key);\n\n          resolve(defaultValue);\n\n          return;\n        }\n\n        if (_item) {\n          _this.log.info('Found item with key: ' + key + ' in cache.');\n\n          resolve(_item.code);\n        } else {\n          _this.log.info('Couldn\\'t find item with key: ' + key + ' in cache.');\n\n          reject();\n        }\n      });\n    }\n  }, {\n    key: 'has',\n    value: function has(key) {\n      if (!this.isSupported) {\n        return false;\n      }\n\n      return localStorage.getItem(key) !== null;\n    }\n  }, {\n    key: 'set',\n    value: function set(code, type, url) {\n      var singularBy = arguments[3] === undefined ? false : arguments[3];\n\n      if (!this.isSupported) {\n        return false;\n      }\n      if (singularBy) {\n        this.dedupe(singularBy);\n      }\n\n      var cached = {\n        now: +new Date(),\n        url: url,\n        code: code,\n        type: type\n      };\n\n      localStorage.setItem('' + this.cachePrefix + '-' + url, JSON.stringify(cached));\n\n      return true;\n    }\n  }, {\n    key: 'flush',\n    value: function flush() {\n      if (!this.isSupported) {\n        return false;\n      }\n\n      for (var key in localStorage) {\n        if (key.indexOf(this.cachePrefix) >= 0) {\n          this.log.log('Removing item ' + key + ' requested by flush.');\n\n          localStorage.removeItem(key);\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: 'supported',\n    value: function supported() {\n      var item = '__dactylographsy__feature-detection';\n\n      try {\n        localStorage.setItem(item, item);\n        localStorage.removeItem(item);\n\n        return true;\n      } catch (e) {\n        this.log.warn('Localstorage not supported in browser - no caching!');\n\n        return false;\n      }\n    }\n  }, {\n    key: 'dedupe',\n    value: function dedupe(singularBy) {\n      for (var key in localStorage) {\n        if (key.indexOf(this.cachePrefix) >= 0 && key.indexOf(singularBy) >= 0) {\n          this.log.log('Deduping by ' + singularBy + ' before adding dupe in ' + key + '.');\n\n          localStorage.removeItem(key);\n        }\n      }\n    }\n  }]);\n\n  return Cache;\n})();\n\nexports['default'] = Cache;\nmodule.exports = exports['default'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/cache.js\n **/","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Log = (function () {\n\n  // Not level bound logging needed yet\n\n  function Log() {\n    var enabled = arguments[0] === undefined ? true : arguments[0];\n\n    _classCallCheck(this, Log);\n\n    this.enabled = enabled;\n\n    if (this.enabled) {\n      this.console = window.console;\n    }\n  }\n\n  _createClass(Log, [{\n    key: \"log\",\n    value: function log() {\n      if (this.enabled) {\n        var _console;\n\n        (_console = this.console).log.apply(_console, arguments);\n      }\n    }\n  }, {\n    key: \"info\",\n    value: function info() {\n      if (this.enabled) {\n        var _console2;\n\n        (_console2 = this.console).info.apply(_console2, arguments);\n      }\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      if (this.enabled) {\n        var _console3;\n\n        (_console3 = this.console).warn.apply(_console3, arguments);\n      }\n    }\n  }, {\n    key: \"debug\",\n    value: function debug() {\n      if (this.enabled) {\n        var _console4;\n\n        (_console4 = this.console).debug.apply(_console4, arguments);\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      if (this.enabled) {\n        var _console5;\n\n        (_console5 = this.console).error.apply(_console5, arguments);\n      }\n    }\n  }]);\n\n  return Log;\n})();\n\nexports[\"default\"] = Log;\nmodule.exports = exports[\"default\"];\n\n\n/** WEBPACK FOOTER **\n ** ./src/log.js\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _dom = require('./dom');\n\nvar _ajax = require('./ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _log = require('./log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar Manifest = (function () {\n  function Manifest(url, config) {\n    _classCallCheck(this, Manifest);\n\n    var _config$enableLogging = config.enableLogging;\n    var enableLogging = _config$enableLogging === undefined ? false : _config$enableLogging;\n\n    this.log = new _log2['default'](enableLogging);\n    this.url = url;\n  }\n\n  _createClass(Manifest, [{\n    key: 'get',\n    value: function get() {\n      var _this = this;\n\n      return new _ajax2['default']().get(this.url).then(function (response) {\n        var responseText = response.text;\n        var responseUrl = response.url;\n\n        _this.log.info('Fetched manifest from url: ' + responseUrl + '.');\n\n        return JSON.parse(responseText);\n      }, function (xhr) {\n        _this.log.error('Could not fetch manifest with url: ' + xhr.responseURL + '!');\n      });\n    }\n  }]);\n\n  return Manifest;\n})();\n\nexports.Manifest = Manifest;\n\nvar Injector = (function () {\n  function Injector(injectInto, manifests) {\n    var _this2 = this;\n\n    var options = arguments[2] === undefined ? {} : arguments[2];\n\n    _classCallCheck(this, Injector);\n\n    var _options$enableLogging = options.enableLogging;\n    var enableLogging = _options$enableLogging === undefined ? false : _options$enableLogging;\n\n    this.log = new _log2['default'](enableLogging);\n    this.manifests = {};\n    this.injectInto = injectInto;\n\n    manifests.forEach(function (manifest) {\n      _this2.manifests[manifest['package']] = manifest;\n    });\n\n    this.options = options;\n    this.prefix = options.prefix;\n    this.order = options.order;\n  }\n\n  _createClass(Injector, [{\n    key: 'inject',\n    value: function inject() {\n      var _this3 = this;\n\n      this.order.map(function (_package) {\n        if (!_this3.manifests[_package]) {\n          _this3.log.error('Couldn\\'t find package ' + _package + ' from injection order.');\n        } else {\n          _this3.injectManifest(_this3.manifests[_package]);\n        }\n      });\n    }\n  }, {\n    key: 'injectManifest',\n    value: function injectManifest(manifest) {\n      var _this4 = this;\n\n      var hashes = Object.keys(manifest.hashes);\n\n      return hashes.map(function (hash) {\n        var dependency = manifest.hashes[hash],\n            rootUrl = undefined;\n\n        rootUrl = [manifest.rootUrl, manifest.packageUrl].filter(function (_url) {\n          return _url !== undefined && _url !== null;\n        }).join('/');\n\n        _this4.injectDependency(dependency, rootUrl);\n\n        return hash;\n      });\n    }\n  }, {\n    key: 'injectDependency',\n    value: function injectDependency(dependency, rootUrl) {\n      switch (dependency.extension) {\n        case '.css':\n          return new _dom.Css(this.injectInto, this.options).inject(this.urls(dependency, rootUrl));\n        case '.js':\n          return new _dom.Js(this.injectInto, this.options).inject(this.urls(dependency, rootUrl));\n      }\n    }\n  }, {\n    key: 'basename',\n    value: function basename(path) {\n      return path.replace(/.*\\/|\\.[^.]*$/g, '');\n    }\n  }, {\n    key: 'urls',\n    value: function urls(dependency) {\n      var rootUrl = arguments[1] === undefined ? '' : arguments[1];\n\n      var basename = this.basename(dependency.file),\n          url = undefined;\n\n      url = [this.prefix, rootUrl, dependency.path].filter(function (_url) {\n        return _url !== undefined && _url !== null;\n      }).join('/');\n\n      return {\n        printed: '/' + url + '/' + basename + '-' + dependency.hash + '' + dependency.extension,\n        raw: '/' + url + '/' + basename + '' + dependency.extension,\n        singularBy: '/' + url + '/' + basename + '' + dependency.extension\n      };\n    }\n  }]);\n\n  return Injector;\n})();\n\nexports['default'] = Injector;\n\n\n/** WEBPACK FOOTER **\n ** ./src/injector.js\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _cache = require('./cache');\n\nvar _cache2 = _interopRequireDefault(_cache);\n\nvar _ajax = require('./ajax');\n\nvar _ajax2 = _interopRequireDefault(_ajax);\n\nvar _log = require('./log');\n\nvar _log2 = _interopRequireDefault(_log);\n\nvar Js = (function () {\n  function Js(injectInto) {\n    var config = arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Js);\n\n    var _config$enableLogging = config.enableLogging;\n    var enableLogging = _config$enableLogging === undefined ? false : _config$enableLogging;\n\n    this.injectInto = injectInto;\n\n    this.cache = new _cache2['default']({\n      appPrefix: config.appPrefix,\n      enableLogging: enableLogging\n    });\n\n    this.cacheDelay = config.cacheDelay || 5000;\n\n    this.log = new _log2['default'](enableLogging);\n  }\n\n  _createClass(Js, [{\n    key: 'injectWithText',\n    value: function injectWithText(text, url) {\n      var _this = this;\n\n      return new Promise(function (resolve) {\n        var script = document.createElement('script');\n\n        script.defer = true;\n\n        script.setAttribute('data-dactylographsy-url', url);\n\n        script.text = text;\n\n        if (_this.injectInto) {\n          _this.injectInto.appendChild(script);\n        }\n\n        resolve(script);\n      });\n    }\n  }, {\n    key: 'injectWithUrl',\n    value: function injectWithUrl(urls) {\n      var _this2 = this;\n\n      var whichUrl = arguments[1] === undefined ? 'printed' : arguments[1];\n\n      return new Promise(function (resolve) {\n        // Create script element and set its type\n        var script = document.createElement('script'),\n            url = urls[whichUrl];\n\n        script.type = 'text/javascript';\n        script.async = false;\n\n        script.setAttribute('data-dactylographsy-url', url);\n\n        // Bind to readyState or register ´onload´ callback\n        if (script.readyState) {\n          // Callback for IE's `onreadystatechange` (I feel seesick)\n          script.onreadystatechange = function () {\n            if (script.readyState === 'loaded' || script.readyState === 'complete') {\n              script.onreadystatechange = null;\n\n              _this2.ensureCache(url, urls.singularBy, _this2.cacheDelay);\n            }\n          };\n        } else {\n          // Bind `onload` callback on script element\n          script.onload = function () {\n            if (whichUrl === 'printed') {\n              _this2.ensureCache(url, urls.singularBy, _this2.cacheDelay);\n            }\n          };\n\n          // Inject unprinted without caching in case of error\n          script.onerror = function () {\n            _this2.log.info('Could not fetch JavaScript from ' + url + ' - falling back to unprinted version.');\n\n            if (whichUrl === 'printed') {\n              _this2.injectWithUrl(urls, 'raw');\n            }\n          };\n        }\n\n        script.src = url;\n\n        if (_this2.injectInto) {\n          _this2.injectInto.appendChild(script);\n        }\n\n        resolve(script);\n      });\n    }\n  }, {\n    key: 'ensureCache',\n    value: function ensureCache(url) {\n      var _this3 = this;\n\n      var singularBy = arguments[1] === undefined ? false : arguments[1];\n      var delay = arguments[2] === undefined ? 0 : arguments[2];\n\n      return new Promise(function (resolve, reject) {\n        if (_this3.cache.has(url)) {\n          resolve();\n        }\n\n        _this3.log.info('Loading CSS from ' + url + ' for cache in ' + delay + '.');\n\n        window.setTimeout(function () {\n          return new _ajax2['default']().get(url).then(function (response) {\n            var responseText = response.text;\n\n            _this3.cache.set(responseText, 'js', url, singularBy);\n\n            _this3.log.info('Loaded CSS from ' + url + ' now cached.');\n\n            resolve();\n          })['catch'](function () {\n            reject();\n          });\n        }, delay);\n      });\n    }\n  }, {\n    key: 'inject',\n    value: function inject(urls) {\n      var _this4 = this;\n\n      return this.cache.get(urls.printed).then(function (text) {\n        return _this4.injectWithText(text, urls.printed);\n      })['catch'](function () {\n        return _this4.injectWithUrl(urls);\n      });\n    }\n  }]);\n\n  return Js;\n})();\n\nexports.Js = Js;\n\nvar Css = (function () {\n  function Css(injectInto) {\n    var config = arguments[1] === undefined ? {} : arguments[1];\n\n    _classCallCheck(this, Css);\n\n    var _config$enableLogging2 = config.enableLogging;\n    var enableLogging = _config$enableLogging2 === undefined ? false : _config$enableLogging2;\n\n    this.injectInto = injectInto;\n\n    this.cache = new _cache2['default']({\n      appPrefix: config.appPrefix\n    });\n\n    this.cacheDelay = config.cacheDelay || 5000;\n\n    this.log = new _log2['default'](enableLogging);\n  }\n\n  _createClass(Css, [{\n    key: 'ensureCache',\n    value: function ensureCache(url) {\n      var _this5 = this;\n\n      var singularBy = arguments[1] === undefined ? false : arguments[1];\n      var delay = arguments[2] === undefined ? 0 : arguments[2];\n\n      return new Promise(function (resolve, reject) {\n        if (_this5.cache.has(url)) {\n          resolve();\n        }\n\n        _this5.log.info('Loading CSS from ' + url + ' for cache in ' + delay + '.');\n\n        window.setTimeout(function () {\n          return new _ajax2['default']().get(url).then(function (response) {\n            var responseText = response.text;\n\n            _this5.cache.set(responseText, 'css', url, singularBy);\n\n            _this5.log.info('Loaded CSS from ' + url + ' now cached.');\n\n            resolve();\n          })['catch'](function () {\n            reject();\n          });\n        }, delay);\n      });\n    }\n  }, {\n    key: 'injectWithUrl',\n    value: function injectWithUrl(urls) {\n      var _this6 = this;\n\n      var whichUrl = arguments[1] === undefined ? 'printed' : arguments[1];\n\n      return new Promise(function (resolve) {\n        var link = document.createElement('link'),\n            url = urls[whichUrl];\n\n        link = document.createElement('link');\n\n        link.type = 'text/css';\n        link.rel = 'stylesheet';\n\n        link.setAttribute('data-dactylographsy-url', url);\n\n        link.href = url;\n\n        if (_this6.injectInto) {\n          _this6.injectInto.appendChild(link);\n        }\n\n        // Fallback to unprinted assets after cache attempt\n        // no callbacks for stylesheet injections (timeouts are worse...)\n        if (whichUrl === 'printed') {\n          _this6.ensureCache(url, urls.singularBy, _this6.cacheDelay)['catch'](function () {\n            _this6.log.info('Could not fetch CSS from ' + url + ' - falling back to unprinted version.');\n\n            _this6.injectWithUrl(urls, 'raw');\n          });\n        }\n\n        resolve(link);\n      });\n    }\n  }, {\n    key: 'injectWithText',\n    value: function injectWithText(text, url) {\n      var _this7 = this;\n\n      return new Promise(function (resolve) {\n        var link = document.createElement('link');\n\n        link = document.createElement('style');\n\n        link.setAttribute('data-dactylographsy-url', url);\n\n        link.textContent = text;\n\n        if (_this7.injectInto) {\n          _this7.injectInto.appendChild(link);\n        }\n\n        resolve(link);\n      });\n    }\n  }, {\n    key: 'inject',\n    value: function inject(urls) {\n      var _this8 = this;\n\n      return this.cache.get(urls.printed).then(function (text) {\n        return _this8.injectWithText(text, urls.printed);\n      })['catch'](function () {\n        return _this8.injectWithUrl(urls);\n      });\n    }\n  }]);\n\n  return Css;\n})();\n\nexports.Css = Css;\n\n\n/** WEBPACK FOOTER **\n ** ./src/dom.js\n **/","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar Ajax = (function () {\n  function Ajax() {\n    _classCallCheck(this, Ajax);\n  }\n\n  _createClass(Ajax, [{\n    key: 'get',\n    value: function get(url) {\n      var options = arguments[1] === undefined ? {} : arguments[1];\n\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n\n        if ('withCredentials' in xhr) {\n          // XHR for Chrome/Firefox/Opera/Safari.\n          xhr.open('GET', url, true);\n        } else if (typeof XDomainRequest !== 'undefined') {\n          // XDomainRequest for IE.\n          xhr = new XDomainRequest();\n          xhr.open('GET', url);\n        } else {\n          // CORS not supported.\n          xhr = null;\n        }\n\n        if (options.withCredentials) {\n          xhr.withCredentials = true;\n        }\n\n        if (options.customHeaders) {\n          options.customHeaders.forEach(function (header) {\n            xhr.setRequestHeader(header.name, header.value);\n          });\n        }\n\n        // Response handlers.\n        xhr.onload = function () {\n          if (xhr.status >= 400) {\n            reject(xhr);\n          } else {\n            resolve({\n              xhr: xhr,\n              text: xhr.responseText,\n              url: xhr.responseURL\n            });\n          }\n        };\n\n        xhr.onerror = function () {\n          reject(xhr);\n        };\n\n        xhr.send();\n      });\n    }\n  }]);\n\n  return Ajax;\n})();\n\nexports['default'] = Ajax;\nmodule.exports = exports['default'];\n\n\n/** WEBPACK FOOTER **\n ** ./src/ajax.js\n **/"],"sourceRoot":""}