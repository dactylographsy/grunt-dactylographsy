!function(a,b,c,d){"use strict";var e,f,g,h,i=a.Dactylographsy,j=c.getElementById("dactylographsy"),k={},l=[];e=function(a){return a instanceof e?a:this instanceof e?void(this._wrapped=a):new e(a)},a.Dactylographsy=e,e.VERSION="<%= pkg.version %>",e.noConflict=function(){return a.Dactylographsy=i,this},e.readAttrOnScript=function(a){var b=j.getAttribute("data-"+a);return b?JSON.parse(b):d},e.ajaxGet=function(a,b,c,d){var e=new XMLHttpRequest,f=d||{};if("withCredentials"in e?e.open("GET",a,!0):"undefined"!=typeof XDomainRequest?(e=new XDomainRequest,e.open("GET",a)):e=null,f.withCredentials&&(e.withCredentials=!0),f.customHeaders)for(var g=0;g<f.customHeaders.length;g++){var h=f.customHeaders[g];e.setRequestHeader(h.name,h.value)}e.onload=function(){b(e,e.responseText)},e.onerror=function(){c(e)},e.send()},e.js=function(a,b,d){var e=c.createElement("script"),f=c.body||c.head||c.getElementsByTagName("script")[0];return e.type="text/javascript",e.readyState?e.onreadystatechange=function(){("loaded"===e.readyState||"complete"===e.readyState)&&(e.onreadystatechange=null,"function"==typeof d&&d())}:e.onload=function(){"function"==typeof d&&d()},e.async=!1,e.src=a,f.appendChild(e),a},e.basename=function(a){return a.replace(/.*\/|\.[^.]*$/g,"")},e.fileNameWithFingerprint=function(a,b){var c=b.files[a.file]?b.files[a.file].path:a.path+"/",d=b.prefix?b.prefix:"";return d+c+e.basename(a.file)+"-"+a.hash+a.extension},e.fileNameWithoutFingerprint=function(a,b){var c=b.files[a.file]?b.files[a.file].path:a.path+"/",d=b.prefix?b.prefix:"";return d+c+a.file},e.injectManifest=function(a){for(var b=Object.keys(a.hashes),c=0,d=b.length;d>c;c++){var f=b[c],g=a.hashes[f];switch(g.extension){case".css":e.css(h.fingerprint?e.fileNameWithFingerprint(g,h.manifests[a["package"]]):e.fileNameWithoutFingerprint(g,h.manifests[a["package"]]),a);break;case".js":e.js(h.fingerprint?e.fileNameWithFingerprint(g,h.manifests[a["package"]]):e.fileNameWithoutFingerprint(g,h.manifests[a["package"]]),a)}}e.remove(l,a["package"])},e.remove=function(a,b){for(;-1!==a.indexOf(b);)a.splice(a.indexOf(b),1)},e.css=function(a){var b=c.createElement("link"),d=c.body||c.head||c.getElementsByTagName("script")[0];b.type="text/css",b.rel="stylesheet",b.href=a,d.appendChild(b)},(f=function(){var a=function(){var b;b=l[0]&&k[l[0]]?k[l[0]]:k[0],b&&(e.injectManifest(b),a())},b=function(b,c){var d=JSON.parse(c);k[d["package"]]=d,a()};g=e.readAttrOnScript("manifests"),h=e.readAttrOnScript("config"),l=h.order;for(var c=0,d=g.length;d>c;c++)e.ajaxGet(g[c],b)})()}(this,window,document);